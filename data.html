<!DOCTYPE HTML>
<html lang="en">

	<head>
			<!-- <link href='https://fonts.googleapis.com/css?family=Ruda:400,700|Cantarell:400,700,400italic,700italic' rel='stylesheet' type='text/css'> -->
			<!-- <link href='https://fonts.googleapis.com/css?family=Bitter' rel='stylesheet' type='text/css'> -->
				<link href="https://fonts.googleapis.com/css?family=Roboto+Slab" rel="stylesheet">
			<meta charset="utf-8">
			<meta name="viewport" content="width=device-width, initial-scale=1"/>
			<meta name="keywords" content="maps,cartography, hazardous waste trade"/>
			<title>Data</title>

			<!--put Bootstrap stylesheet links above style.css-->
			<link rel="stylesheet" href="CSS/bootstrap.min.css">
			<link rel="stylesheet" href="CSS/bootstrap-theme.min.css">
			<link rel="stylesheet" href="CSS/style.css">
			<script type="text/javascript" src="lib/jquery-1.11.3.min.js"></script>
			<script type="text/javascript" src="lib/bootstrap.min.js"></script>
			<script type="text/javascript" src="lib/d3.js" charset="utf-8"></script>
			<script type="text/javascript" src="lib/queue.js"></script>
			<script type="text/javascript" src="lib/topojson.v1.min.js"></script>
			<script type="text/javascript" src="lib/tip.js"></script>
			<script src="lib/w3HTMLinclude.js"></script>

	</head>

	<body>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-87476640-1', 'auto');
  ga('send', 'pageview');

</script>
	<div w3-include-html="nav.html"></div>
	<script>
	w3IncludeHTML();
	</script>
	<div class="center">
		<div class="jumbotron">
				<div class="container">
						<h1>Our Assembled Dataset</h1>
				</div>
		</div>
	</div>


		<div class="container">
      <div class = "row">
					<div class="col-md-12" id = "bodyText">
				<br><h4>About the Data</h4>
				<h5>The data used on this website were obtained through a series of Freedom of Information Act (FOIA) requests to the United States Environmental Protection Agency (EPA). The EPA provided us with compiled import data for 2007 and 2009; compiled export data for 2005-2009; scans of shipping manifests for waste imported for 2010, 2011, and 2012; and annual reports from exporters for 2011 and 2012. The current dataset is based on these records. We are also in the process of acquiring and processing shipping manifests (imports) for 2013, 2014, and 2015 and annual reports (exports) for 2010, 2013, 2014, and 2015.<br><br>

				The example manifest below highlights the information captured by our dataset. Using the manifests and the compiled data, we assembled a series of spreadsheets that included the following attributes: importer names and locations, exporter names and locations, various EPA and United Nations codes, waste type, waste amounts, and units the waste was reported in, port of entry city, and any discrepancies or uncertainties that were either noted on the manifest or that we noticed upon entering the data into our spreadsheets.


				<br><br><br>
							<div class="col-md-12" id = "bodyText"><img src="img/manifest.png" alt="Marked up manifest image" /><br><br><br>

				</h5>


				<h5>As the faded type and handwritten corrections to the sample manifest hint, these data required cleaning in order to compare and visualize attributes. After entering all attributes that we could into the spreadsheet, we processed the import data, using the following procedures.
					<br><br>
					<i>Note: This section may be updated as we acquire and complete data entry for 2013, 2014, and 2015 imports, and as we process the export data.</i>
					<br><br>
					<ol>
						<li>Clear 2006 and 2014 data. A complete set of data for 2006 is unavailable, and data entry for 2014 is incomplete at this point.</li>
						<li>Clear entries without a quantity.</li>
						<li>Clear entries where the exporting country was not Canada or Mexico.</li>
						<li>Convert quantities with (EST) or (APPROX) to the value that comes before (EST) or (APPROX). Manifests often reported estimated or approximated quantities, and we will eventually examine these estimates and approximations. For now, we use them as-is.</li>
						<li>Clear entries without a unit.</li>
						<li>Clear entries without an address for the exporter. In some cases, we were able to interpolate the address based on other attributes (e.g., facility name, city, province, etc.), and so kept these records. For the most part, though, without an address, it is impossible to geolocate and map the exporter.</li>
						<li>Clear entries without an importer address. <i>Note: this was rare.</i></li>
						<li>Standardize importer addresses to match a lookup table we created (e.g., 625 WANDA STREET should be 625 WANDA ST). <i>Note: importer name, address, etc. is for the facility that actually received the waste. Parent company data was collected, but scrubbed from this dataset becasue the focus of our project is on the actual sites that imported the waste. </i></li>
						<li>Fill in importer latitude and longitude values using lookup table.</li>
						<li>Fill in exporter latitude and longitude values using lookup table.</li>
						<li>Standardize EPA keys. Each facility that imports waste had a single  identification key assigned to it by the EPA. Due to human error (on our part, in the manifests, and/or because manifests were handwritten), these varied in the original spreadsheet.</li>
						<li>Create exporter keys (E + latitude first two digits + A + longitude last four decimal digits -- E and A were chosen arbitrarily). In order to create interactive maps of the waste trade, we needed to assign each waste exporter a unique ID.</li>
						<li>Convert units to kilograms and liters (units often included pounds, tons, gallons, etc.).</li>
						<li>Clear entries with neither a waste description nor a UN code (an international identifier describing the type of waste). If a shipment contained one of these, it remained in the dataset. If a shipment contained neither, there was no way to tell what the waste was.</li>
						<li>Look up UN codes (e.g., UN3077) and create a field that explained what each code means (e.g., “Environmentally hazardous waste, not otherwise specified” for UN3077).</li>
						<li>If there was a waste description but no UN code, set UN code description  to “Not provided.”</li>
						<li>If there was a UN code but no waste description, set UN code description  to "Unknown.”</li>
						<li>Look up expected management codes (e.g., H141) and create a field that explains what each code means (e.g., “stored and transferred off-site” for H141).</li>
						<li>If there was no management code, set management code to "Not provided."</li>
						<li>If there were multiple management codes (e.g., H040; H141), then "Multiple management methods" was indicated.</li>
						<li>If a management code was not known as a listed managment code (e.g., "A2342"), set management code to "Unknown."</li>
						<li>Create a “Company” field with standardized company names. Look up the company that owns the importing facility, based on background research on the corporate structure of these firms/facilities. For example, “Clean Harbors Env Services,” “Clean Harbors El Dorado LLC,” and “Safety-Kleen” were standardized to “Clean Harbors” because they are all part of the company so named. This field is useful for allowing comparison of multi-facility companies, but it is also limited in that it is based on the current state of companies and mergers and does not account for historical change: Safety-Kleen, for example, was not part of Clean Harbors until 2012, and the Company field does not account for this and other changes.</li>
						<li>Map the facilities for QA/QC, correcting any latitude and longitude errors (e.g., make sure a Texas facility was not given the coordinates of an Ohio facility).</li>
					</ol>
					<br><br>
					After data cleaning, we were left with 17,333 import shipments, from 18,044 entered originally.
					<br><br>
					For data downloads, please click <a href="downloads.html">here</a>.<br>
					<a href="AboutUs.html">Contact us</a> if you have questions or want to learn more!
				 </h5>

				<br>

		</div>
    </div>
		</div>
		</div>
<br><br>

	</body>
<script>
	var origW = $("#mercuryMap").width()
	var origH = $("#mercuryMap").height()
	var colW = $(".col-md-12").width()
	var ratio = origW/origH
	ratio = isNaN(ratio) ? 1.3 : ratio
	var scalarW = window.innerWidth < 500 ? colW : origW //scale based on screen size
	scalarW = scalarW == 0 ? 721 : scalarW

	$("#mercuryMap").width(scalarW)


	var scalarH = window.innerWidth < 500 ? scalarW/ratio : origH //scale based on screen size
	scalarH = scalarH == 0 ? scalarW/ratio : scalarH
	$("#mercuryMap").height(scalarH)
	console.log(colW, origW, scalarW, origH, scalarH, ratio)
</script>


</html>
